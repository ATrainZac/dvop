[{"url":"http://localhost:5050/js/add-student.js","scriptId":"4","source":"function addStudent() {\r\n    var response = \"\";\r\n    // Create an object to hold form data\r\n    var jsonData = new Object();\r\n    jsonData.name = document.getElementById(\"name\").value;\r\n    jsonData.course = document.getElementById(\"course\").value;\r\n    jsonData.email = document.getElementById(\"email\").value;\r\n    jsonData.gpa = document.getElementById(\"gpa\").value;\r\n    \r\n    // Validate required fields (all must be filled in)\r\n    if (jsonData.name == \"\" || jsonData.course == \"\" || jsonData.email == \"\" || jsonData.gpa == \"\") {\r\n        alert('All fields are required!');\r\n        return;\r\n    }\r\n    \r\n    // Validate email format\r\n    if (!jsonData.email.includes('@')) {\r\n        alert('Email must contain @ symbol');\r\n        return;\r\n    }\r\n    \r\n    // Configure the request to POST data to /api/students\r\n    var request = new XMLHttpRequest();\r\n    request.open(\"POST\", \"/api/students\", true);\r\n    request.setRequestHeader('Content-Type', 'application/json');\r\n    \r\n    // Define what happens when the server responds\r\n    request.onload = function () {\r\n        try {\r\n            response = JSON.parse(request.responseText);\r\n            console.log(response);\r\n            \r\n            if (request.status === 201 && response.message && response.student) {\r\n                alert('Student added successfully! ID: ' + response.student.id);\r\n                // Clear form fields after success\r\n                document.getElementById(\"name\").value = \"\";\r\n                document.getElementById(\"course\").value = \"\";\r\n                document.getElementById(\"email\").value = \"\";\r\n                document.getElementById(\"gpa\").value = \"\";\r\n            } else {\r\n                alert('Error: ' + (response.message || 'Unable to add student!'));\r\n            }\r\n        } catch (e) {\r\n            alert('Error processing response: ' + e.message);\r\n        }\r\n    };\r\n    \r\n    request.onerror = function () {\r\n        alert('Network error occurred. Please check if the server is running.');\r\n    };\r\n    \r\n    // Send the request with JSON-formatted data\r\n    request.send(JSON.stringify(jsonData));\r\n}","functions":[{"functionName":"","isBlockCoverage":true,"ranges":[{"startOffset":0,"endOffset":2119,"count":1}]},{"functionName":"addStudent","isBlockCoverage":true,"ranges":[{"startOffset":0,"endOffset":2119,"count":1},{"startOffset":533,"endOffset":602,"count":0},{"startOffset":679,"endOffset":751,"count":0}]},{"functionName":"request.onload","isBlockCoverage":true,"ranges":[{"startOffset":1057,"endOffset":1881,"count":1},{"startOffset":1234,"endOffset":1253,"count":0},{"startOffset":1254,"endOffset":1273,"count":0},{"startOffset":1275,"endOffset":1671,"count":0},{"startOffset":1732,"endOffset":1759,"count":0},{"startOffset":1789,"endOffset":1874,"count":0}]},{"functionName":"request.onerror","isBlockCoverage":false,"ranges":[{"startOffset":1912,"endOffset":2014,"count":0}]}]},{"url":"http://localhost:5050/add.html","scriptId":"216","source":"addStudent()","functions":[{"functionName":"onclick","isBlockCoverage":true,"ranges":[{"startOffset":0,"endOffset":12,"count":1}]}]}]